(function(t){function e(e){for(var s,i,r=e[0],c=e[1],u=e[2],d=0,p=[];d<r.length;d++)i=r[d],a[i]&&p.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},a={app:0},o=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},1:function(t,e){},"3c1a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("14c6"),n("08c1"),n("4842"),n("d9fc");var s=n("2b0e"),a=n("8c4f"),o=n("bc3a"),i=n.n(o),r=n("8a03"),c=n.n(r),u=(n("5abe"),n("cd4e")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{isLogin:t.logged,msg:"Welcome to Your Vue.js App"},on:{signOut:t.signOutAction,login:t.loginAction,msg:t.openMsg}}),n("router-view")],1)},d=[],p=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("img",{attrs:{src:"/favicon.png",type:"image/png"}}),n("h1",{staticStyle:{color:"rgb(101,59,203)"}},[t._v(" Speed Alternance")])]),t._m(0)],1),n("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[n("div",{staticClass:"navbar-start"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v("\n        Accueil\n      ")]),n("router-link",{staticClass:"navbar-item",attrs:{to:"/annonces"}},[t._v("\n        Annonces\n      ")])],1),n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[t.isLogin?t._e():n("div",{staticClass:"buttons"},[n("router-link",{staticClass:"button is-primary",attrs:{to:"/signup"}},[n("strong",[t._v("Inscription")])]),n("button",{staticClass:"button is-light",on:{click:t.loginModal}},[t._v("\n            Connexion\n          ")])],1),t.isLogin?n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-danger",on:{click:t.signout}},[n("strong",[t._v("Deconnexion")])]),n("a",{staticClass:"button is-light",on:{click:t.msg}},[t._v("\n            Messages\n          ")])]):t._e()])])])])}),m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])}],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.submitLogin(e)}}},[n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Email"}},[n("b-input",{attrs:{type:"email",placeholder:"Your email",required:""},model:{value:t.login.email,callback:function(e){t.$set(t.login,"email",e)},expression:"login.email"}})],1),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),n("b-checkbox",[t._v("Remember me")])],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Close")]),n("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[t._v("Login")])])])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Login")])])}],g={name:"LoginModal",data:function(){return{login:{email:"",password:""}}},methods:{submitLogin:function(){this.$emit("login",this.login),this.$parent.close()}}},v=g,b=n("2877"),C=Object(b["a"])(v,f,h,!1,null,"f55aa0d2",null),_=C.exports,y={name:"Header",component:{LoginModal:_},props:{isLogin:Boolean},methods:{signout:function(){this.$emit("signOut")},msg:function(){this.$emit("msg")},loginModal:function(){var t=this;this.$modal.open({parent:this,component:_,hasModalCard:!0,events:{login:function(e){t.$emit("login",e)}}})}}},k=y,S=(n("e04f"),Object(b["a"])(k,p,m,!1,null,"4b7868c2",null)),w=S.exports,$=n("d225"),x=n("b0b4");i.a.defaults.baseURL="https://speed-alternance.herokuapp.com/api",i.a.defaults.headers.common["Authorization"]=localStorage.access_token?"Bearer "+localStorage.access_token:null,i.a.defaults.headers.post["Content-Type"]="application/json";var O=function(){function t(){Object($["a"])(this,t)}return Object(x["a"])(t,null,[{key:"signUp",value:function(t){return i.a.post("/user/signup",t).then(function(t){localStorage.setItem("access_token",t.data.access_token),localStorage.setItem("user",JSON.stringify(t.data.user))})}},{key:"login",value:function(t){return i.a.post("/user/login",t).then(function(t){localStorage.setItem("access_token",t.data.access_token),localStorage.setItem("user",JSON.stringify(t.data.user))})}}]),t}(),j=O,A=new s["default"],E={name:"app",components:{Header:w},data:function(){return{userConnected:JSON.parse(localStorage.getItem("user")),spawnSignup:!1,spawnLogin:!1,logged:!!localStorage.access_token}},mounted:function(){A.$on("signup",this.signUpAction)},methods:{openMsg:function(){this.$router.push("/chat")},signUpAction:function(t){var e=this;j.signUp(t).then(function(){e.$snackbar.open({message:"Content de vous acceuillir parmis nous!",type:"is-success",position:"is-top-right",actionText:"ok",indefinite:!0}),e.spawnSignup=!1,e.logged=!0,e.userConnected=JSON.parse(localStorage.getItem("user")),e.$nextTick(function(){e.userConnected=JSON.parse(localStorage.getItem("user"))}),e.$router.push("/")}).catch(function(t){e.err=t,e.$toast.open({duration:5e3,message:t,type:"is-danger"})})},signOutAction:function(){var t=this;localStorage.removeItem("access_token"),localStorage.removeItem("user"),this.userConnected={},this.$nextTick(function(){t.userConnected={}}),this.logged=!1,this.$toast.open({duration:5e3,message:"A bientot !",type:"is-danger"})},loginAction:function(t){var e=this;j.login(t).then(function(){var t=JSON.parse(localStorage.user);e.$toast.open({duration:5e3,message:"Content de vous revoir parmis nous ".concat(t.firstname," ").concat(t.name),type:"is-success"}),e.userConnected=JSON.parse(localStorage.getItem("user")),e.$nextTick(function(){e.userConnected=JSON.parse(localStorage.getItem("user"))}),e.spawnLogin=!1,e.logged=!0}).catch(function(t){e.err=t,e.$toast.open({duration:5e3,message:t,type:"is-danger"})})}}},I=E,L=(n("034f"),Object(b["a"])(I,l,d,!1,null,null,null)),U=L.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submitSignUp(e)}}},[n("h2",{staticClass:"title"},[t._v("Formulaire Inscription")]),n("div",{staticClass:"columns"},[n("b-field",{staticClass:"column",attrs:{label:"Prenom"}},[n("b-input",{model:{value:t.user.firstname,callback:function(e){t.$set(t.user,"firstname",e)},expression:"user.firstname"}})],1),n("b-field",{staticClass:"column",attrs:{label:"Nom"}},[n("b-input",{model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),n("b-field",{staticClass:"column",attrs:{label:"Email"}},[n("b-input",{attrs:{type:"email",placeholder:t.autoEmail,maxlength:"30"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),n("b-field",{staticClass:"column",attrs:{label:"Quel est votre profil ?"}},[n("b-select",{attrs:{placeholder:"Etudiant"},model:{value:t.isStudientString,callback:function(e){t.isStudientString=e},expression:"isStudientString"}},[n("option",{attrs:{value:"true"}},[t._v("Etudiant")]),n("option",{attrs:{value:"false"}},[t._v("Professionel")])])],1)],1),n("div",{staticClass:"columns"},[n("b-field",{staticClass:"column",attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password",maxlength:"30"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),n("b-field",{staticClass:"column",attrs:{label:"Password Confirmation"}},[n("b-input",{attrs:{type:"password",maxlength:"30"},model:{value:t.passwordConfirmation,callback:function(e){t.passwordConfirmation=e},expression:"passwordConfirmation"}})],1)],1),n("button",{staticClass:"button is-success",attrs:{type:"submit"}},[t._v("S'inscrire")])])])},M=[],R={name:"SignUp",props:{msg:String,login:Boolean,isStudent:Boolean},data:function(){return{user:{name:"",firstname:"",password:"",email:"",isStudent:!1},err:"",passwordConfirmation:"",isStudientString:!1}},methods:{submitSignUp:function(){if(this.passwordConfirmation!==this.user.password)return this.$toast.open({duration:5e3,message:"Veuillez renseigner le meme mot de passe dans les deux champs",type:"is-danger"}),!1;"true"===this.isStudientString?this.user.isStudent=!0:this.user.isStudent=!1,A.$emit("signup",this.user)}},computed:{autoEmail:function(){return this.user.firstname.toLowerCase()+"."+this.user.name.toLowerCase()+"@ynov.com"}}},N=R,J=(n("da89"),Object(b["a"])(N,P,M,!1,null,"4270282e",null)),z=J.exports,B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("img",{attrs:{id:"logo",src:"/favicon.png",type:"image/png"}}),n("h1",{staticClass:"title",staticStyle:{color:"rgb(101,59,203)"}},[t._v("\n            Speed Alternance\n        ")]),n("h2",{staticClass:"subtitle",staticStyle:{color:"rgb(56,174,111)"}},[t._v("\n            Plateforme de rencontre et d'échange entre étudiants et professionnels souhaitant se lancer dans l'alternance.\n        ")]),n("img",{attrs:{id:"logo",src:"/givemefive.png",type:"image/png"}})])}],q={name:"Homepage"},D=q,V=(n("e8e4"),Object(b["a"])(D,B,T,!1,null,"3fd41a7d",null)),H=V.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"columns chatPlace"},[n("ChatList",{staticClass:"column is-one-fifth ChatList",on:{openChat:t.open}}),n("ChatRoom",{staticClass:"column",attrs:{currentChatId:this.currentChatId}})],1)},F=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chatList"}},[n("h4",{staticClass:"title is-4",staticStyle:{"text-align":"center"}},[t._v("Mes Messages")]),t._l(t.myChatList,function(e){return n("div",{key:e.id,attrs:{chat:e}},[n("div",{staticClass:"chatPreview",on:{click:function(n){return t.openChatRoom(e._id)}}},[n("p",{staticClass:"title is-6"},[t._v(t._s(t.Capitalize(e._id)))]),e.messages.length>0?n("p",{staticClass:"subtitle is-6"},[t._v(t._s(e.messages[e.messages.length-1].content))]):t._e()])])})],2)},W=[];i.a.defaults.baseURL="https://speed-alternance.herokuapp.com/api",i.a.defaults.headers.common["Authorization"]=localStorage.access_token?"Bearer "+localStorage.access_token:null;var G=function(){function t(){Object($["a"])(this,t)}return Object(x["a"])(t,null,[{key:"getAllChat",value:function(){return i.a.get("/chatRoom/")}},{key:"createChat",value:function(t){return i.a.post("/chatRoom/",t)}},{key:"getAllUserChats",value:function(){return i.a.get("/chatRoom/user")}},{key:"getCurrentChat",value:function(t){return i.a.get("/chatRoom/".concat(t))}},{key:"updateChat",value:function(t,e){return i.a.put("/chatRoom/".concat(t),e)}},{key:"getMyChat",value:function(){return i.a.get("/chatRoom/user")}}]),t}(),K=G,X=n("8055"),Z={name:"ChatList",data:function(){return{isUserConnected:{},myChatList:[],socket:X(window.location.hostname),err:""}},created:function(){var t=this;K.getAllUserChats().then(function(e){t.myChatList=e.data})},watch:{myChatList:function(t,e){this.openChatRoom(this.myChatList[0]._id)}},methods:{openChatRoom:function(t){this.$emit("openChat",t)},Capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}},tt=Z,et=(n("edfb"),Object(b["a"])(tt,Q,W,!1,null,"7a49dd64",null)),nt=et.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",{staticClass:"title is-4",staticStyle:{"text-align":"left"}},[t._v(t._s(t.contactName))]),n("ul",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"msgContainer data-target"},t._l(t.chats.messages,function(e){return n("li",{key:e.id,staticClass:"messages",attrs:{msg:e}},[e.emit_by==t.isUserConnected._id?n("div",{staticStyle:{"text-align":"right"}},[n("p",{staticClass:"msg myMsg"},[t._v(t._s(e.content))])]):n("div",{staticStyle:{"text-align":"left"}},[n("p",{staticClass:"msg contactMsg"},[t._v(t._s(e.content))])])])}),0),n("form",{staticClass:"chatForm",on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)}}},[n("b-field",{attrs:{grouped:""}},[n("b-input",{attrs:{placeholder:"Ecrivez quelque chose ... ",expanded:""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("p",{staticClass:"control"},[n("button",{staticClass:"button is-success",attrs:{type:"submit"}},[t._v("ENVOYER")])])],1)],1)])},at=[],ot=n("123d"),it=n.n(ot);s["default"].use(it.a);var rt={name:"ChatRoom",data:function(){return{chats:[],error:"",content:"",contactName:"",socket:X(window.location.hostname),isUserConnected:JSON.parse(localStorage.getItem("user"))}},props:{currentChatId:String},watch:{currentChatId:function(){this.getChat(this.currentChatId)},chats:function(){if(this.chats.users_id)switch(this.isUserConnected._id){case this.chats.users_id[0]:this.getUser(this.chats.users_id[1]);break;case this.chats.users_id[1]:this.getUser(this.chats.users_id[0]);break}}},created:function(){var t=this;this.getChat(this.currentChatId),this.socket.on("new-message",function(e){t.chats.messages.push(e)})},methods:{sendMessage:function(t){var e=this,n={emitBy:this.isUserConnected._id,content:this.content};K.updateChat(this.currentChatId,n).then(function(){e.socket.emit("new-message",n)}).catch(function(t){e.error=t.message}),this.content="",t.preventDefault()},getChat:function(t){var e=this;K.getCurrentChat(t).then(function(t){e.chats=t.data}).catch(function(t){e.error=t.message})},getUser:function(t){var e=this;i.a.get("/user/"+t).then(function(t){return e.contactName=e.Capitalize(t.data.firstname)+" "+e.Capitalize(t.data.name)})},Capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}},ct=rt,ut=(n("6028"),Object(b["a"])(ct,st,at,!1,null,null,null)),lt=ut.exports,dt={name:"ChatPlace",components:{ChatList:nt,ChatRoom:lt},data:function(){return{currentChatId:""}},methods:{open:function(t){this.currentChatId=t}}},pt=dt,mt=(n("e1c5"),Object(b["a"])(pt,Y,F,!1,null,null,null)),ft=mt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v("Listes des dernieres annonces")]),n("b-button",{attrs:{type:"is-success"},on:{click:t.newPostModal}},[t._v("Ajouter une annonce")]),n("div",t._l(t.posts,function(e){return n("div",{key:e.id,staticClass:"post columns",attrs:{post:e}},[e.isJobOffer?n("div",{staticClass:"column isJobOffer"},[t._m(0,!0)]):t._e(),e.isJobOffer?t._e():n("div",{staticClass:"column studentSearch"},[t._m(1,!0)]),n("div",{staticClass:"column is-four-fifths"},[n("p",{staticClass:"title is-6"},[t._v(t._s(e.title))]),n("p",{staticClass:"subtitle is-6"},[t._v(t._s(e.content))])]),n("div",{staticClass:"column is-vcentered emailIcon"},[n("b-button",{staticClass:"customButton",attrs:{size:"is-large"},on:{click:function(n){return t.sendMessage(e.publisherId)}}},[n("b-icon",{staticClass:"is-vcentered",attrs:{icon:"email",size:"is-large",type:"is-success"}})],1)],1)])}),0)],1)},gt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"title is-5"},[n("br"),t._v("Pro\n        ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"title is-5"},[n("br"),t._v("Etu\n        ")])}],vt=(n("6762"),n("2fdb"),n("96cf"),n("3b8d"));i.a.defaults.baseURL="https://speed-alternance.herokuapp.com/api",i.a.defaults.headers.common["Authorization"]=localStorage.access_token?"Bearer "+localStorage.access_token:null;var bt=function(){function t(){Object($["a"])(this,t)}return Object(x["a"])(t,null,[{key:"getAll",value:function(){var t=Object(vt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("/post"));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},{key:"publish",value:function(t){return i.a.post("/post",t)}}]),t}(),Ct=bt,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.submitPost(e)}}},[n("div",{staticClass:"modal-card",staticStyle:{width:"50em"}},[t._m(0),n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Titre"}},[n("b-input",{attrs:{placeholder:"Titre de votre annonce",required:""},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),n("b-field",{attrs:{label:"Contenue de l'annonce"}},[n("b-input",{attrs:{type:"textarea",placeholder:"Ecrivez ici votre annonce, les personnes interréssé vous ecrirons ensuite ",required:""},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Annuler")]),n("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[t._v("Publier mon annonce")])])])])},yt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Nouvelle Annonce")])])}],kt={name:"NewPost",data:function(){return{socket:X(window.location.hostname),post:{title:"",content:"",publisherId:"",isJobOffer:!1}}},methods:{submitPost:function(){var t=this,e=JSON.parse(localStorage.user);this.post.publisherId=e._id,this.post.isJobOffer=!e.isStudent,Ct.publish(this.post).then(function(e){201==e.status&&(t.$parent.close(),t.socket.emit("new-post",e.data.post),t.$toast.open({duration:5e3,message:"Annonces ajouté !",type:"is-success"}))}).catch(function(e){t.$toast.open({duration:5e3,message:e,type:"is-danger"})})}}},St=kt,wt=Object(b["a"])(St,_t,yt,!1,null,"b8fbebbe",null),$t=wt.exports,xt={name:"Post",data:function(){return{isUserConnected:{},posts:[],socket:X(window.location.hostname)}},methods:{newPostModal:function(){if(!localStorage.access_token)return this.$toast.open({duration:5e3,message:"Vous devez etre connecté pour poster une annonce",type:"is-danger"}),!1;this.$modal.open({parent:this,component:$t,hasModalCard:!0})},sendMessage:function(){var t=Object(vt["a"])(regeneratorRuntime.mark(function t(e){var n,s,a,o,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(localStorage.access_token){t.next=3;break}return this.$toast.open({duration:5e3,message:"Vous devez etre connecté pour répondre à une annonce",type:"is-danger"}),t.abrupt("return",!1);case 3:return t.next=5,K.getAllChat();case 5:n=t.sent,s=n.data.some(function(t){return t.users_id.includes(i.isUserConnected._id)&&t.users_id.includes(e)}),a={users_id:[e,this.isUserConnected._id],messages:[]},s?(o=n.data.filter(function(t){return t.users_id.includes(i.isUserConnected._id)&&t.users_id.includes(e)}),K.getCurrentChat(o[0]._id).then(function(){i.$router.push({name:"ChatPlace",params:{id:o[0]._id}})}).catch(function(t){i.err=t.message})):K.createChat(a).then(function(){i.$router.push({name:"ChatPlace"});var t={emitBy:"system",content:i.isUserConnected.name+" a repondu a votre annonce "+i.isUserConnected};K.updateChat(i.currentChatId,t).then()}).catch(function(t){i.err=t.message});case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reloadPost:function(){var t=this;Ct.getAll().then(function(e){return t.posts=e.data.posts}).catch(function(e){return t.$toast.open({duration:5e3,message:"une erreur est survenue : ".concat(e),type:"is-danger"})})}},created:function(){var t=this;this.isUserConnected=JSON.parse(localStorage.getItem("user")),this.socket.on("new-post",function(e){t.posts.unshift(e)}),Ct.getAll().then(function(e){return t.posts=e.data.posts}).catch(function(e){return t.$toast.open({duration:5e3,message:"une erreur est survenue : ".concat(e),type:"is-danger"})})}},Ot=xt,jt=(n("8573"),Object(b["a"])(Ot,ht,gt,!1,null,"05327807",null)),At=jt.exports;Object(u["loadProgressBar"])(),s["default"].config.productionTip=!1,s["default"].config.$http=i.a,s["default"].use(c.a),s["default"].use(a["a"]);var Et=new a["a"]({mode:"history",routes:[{path:"/chat",name:"ChatPlace",component:ft,meta:{requiresAuth:!0}},{path:"/signup",component:z,name:"signup"},{path:"/ChatList",component:nt,meta:{requiresAuth:!0}},{path:"/",component:H,name:"root"},{path:"/annonces",component:At,name:"post"}]});Et.beforeEach(function(t,e,n){"/ChatList"===t.path?localStorage.getItem("access_token")?(!0,n()):n({path:"/"}):n()}),new s["default"]({router:Et,render:function(t){return t(U)}}).$mount("#app")},"5f35":function(t,e,n){},6028:function(t,e,n){"use strict";var s=n("8ce2"),a=n.n(s);a.a},"64a9":function(t,e,n){},"72a4":function(t,e,n){},7884:function(t,e,n){},8573:function(t,e,n){"use strict";var s=n("72a4"),a=n.n(s);a.a},"8ce2":function(t,e,n){},"98e8":function(t,e,n){},cec8:function(t,e,n){},da89:function(t,e,n){"use strict";var s=n("cec8"),a=n.n(s);a.a},e04f:function(t,e,n){"use strict";var s=n("98e8"),a=n.n(s);a.a},e1c5:function(t,e,n){"use strict";var s=n("3c1a"),a=n.n(s);a.a},e8e4:function(t,e,n){"use strict";var s=n("5f35"),a=n.n(s);a.a},edfb:function(t,e,n){"use strict";var s=n("7884"),a=n.n(s);a.a}});
//# sourceMappingURL=app.422a612b.js.map